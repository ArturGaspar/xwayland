From 569962ea05c68db81d7a5780ad9f44a39819016d Mon Sep 17 00:00:00 2001
From: Artur Gaspar <artur.gaspar.00@gmail.com>
Date: Thu, 20 Jun 2024 03:26:42 -0300
Subject: [PATCH 2/3] Revert "xwayland: non-rootless requires the XDG-WM-Base
 protocol"

This reverts commit ffd02d9b26bd560849c407a6dd4f5c4d7d2c1736.
---
 hw/xwayland/xwayland-screen.c | 5 -----
 1 file changed, 5 deletions(-)

diff --git a/hw/xwayland/xwayland-screen.c b/hw/xwayland/xwayland-screen.c
index 812d60dfc..67799af2c 100644
--- a/hw/xwayland/xwayland-screen.c
+++ b/hw/xwayland/xwayland-screen.c
@@ -737,11 +737,6 @@ xwl_screen_init(ScreenPtr pScreen, int argc, char **argv)
                              &registry_listener, xwl_screen);
     xwl_screen_roundtrip(xwl_screen);
 
-    if (!xwl_screen->rootless && !xwl_screen->xdg_wm_base) {
-        ErrorF("missing XDG-WM-Base protocol\n");
-        return FALSE;
-    }
-
     bpc = xwl_screen->depth / 3;
     green_bpc = xwl_screen->depth - 2 * bpc;
     blue_mask = (1 << bpc) - 1;
-- 
2.45.2

